# <img src="https://i2.wp.com/www.samuelthomasdavies.com/wp-content/uploads/2021/01/Atomic-Habits-Summary.jpeg?resize=172%2C260&ssl=1" width="89"/>

## Курсовой проект по Django REST framework "Сервис Atomic Habits"

#### Проект модуля 7 реализован принцип привычек из книги и отправка уведомлений в телеграм бот. В книге хороший пример привычки описывается как конкретное действие, которое можно уложить в одно предложение: `я буду [ДЕЙСТВИЕ] в [ВРЕМЯ] в [МЕСТО]` За каждую полезную привычку необходимо себя вознаграждать или сразу после делать приятную привычку. Но при этом привычка не должна расходовать на выполнение больше 2 минут
***
#### Реализованы задачи:
* Настроен CORS.
* Настроена интеграцию с Telegram.
* Реализованна пагинация на контроллер `HabitList`.
  * Для вывода списка привычек реализовать пагинацию с выводом по 5 привычек на страницу. 
* Использовано переменное окружение.
* Модели описаны или переопределены.
* Эндпоинты реализовали.
  * Регистрация
  * Авторизация
  * Список привычек текущего пользователя с пагинацией
  * Список публичных привычек
  * Создание привычки
  * Редактирование привычки
  * Удаление привычки
* Настроены необходимые валидаторы.
  * Исключить одновременный выбор связанной привычки и указания вознаграждения.
  * Время выполнения должно быть не больше 120 секунд.
  * В связанные привычки могут попадать только привычки с признаком приятной привычки.
  * У приятной привычки не может быть вознаграждения или связанной привычки.
  * Нельзя выполнять привычку реже, чем 1 раз в 7 дней.
* Описанные права доступа.
  * Каждый пользователь имеет доступ только к своим привычкам по механизму CRUD.
  * Пользователь может видеть список публичных привычек без возможности их как-то редактировать или удалять.
* Настроены отложенные задачи через Celery.
* Проект покрыт тестами как минимум на 80%.
* Код оформили в соответствии с лучшими практиками.
* Имеется список зависимостей.
* Результат проверки Flake8 равен 100%, при исключении миграций.
* Документация для FrontEnd разработчика.
***
### Прежде чем начать использовать проект нужно:
* Установить PostgreSQL на сервер или ПК и предварительно настроить БД.
* Установить БД Redis `sudo apt install redis`.
* Создать файл `.evn` для передачи личных данных в Django настройки.

### `.evn`
    ALLOWED_HOSTS=*
    LANGUAGE_CODE=ru-ru
    TIME_ZONE=Europe/Moscow
    DATABASES_NAME=<DATABASES_NAME>
    DATABASES_USER=<DATABASES_USER>
    DATABASES_PASSWORD=<DATABASES_PASSWORD>
    DATABASES_HOST=<DATABASES_HOST>
    TG_API_KEY=<TG_API_KEY>

***
### Разворачивание проекта "Сервис Atomic Habits"
    git cline https://github.com/4byra6ka/CourseWorkModule7.git
    cd CourseWorkModule7
    poetry install
    python manage.py runserver <IP>:<PORT>
    celery -A config worker -l INFO
    celery -A config beat -l INFO --scheduler django_celery_beat.schedulers:DatabaseScheduler
